{% extends "base.html" %}
{% block content %}
<div class="auth-wrap">
  <div class="auth-card">
    <div class="auth-header">
      <h2>Connexion</h2>
      <p class="muted">Compte par défaut : <b>admin</b> / <b>admin123</b></p>
    </div>

    <form method="post" class="auth-form" autocomplete="on">
      <div class="field">
        <label for="username">Nom d'utilisateur</label>
        <input id="username" name="username" required placeholder="ex: admin" autocomplete="username">
      </div>

      <div class="field">
        <label for="password">Mot de passe</label>
        <div class="password-row">
          <input id="password" name="password" type="password" required placeholder="••••••••" autocomplete="current-password">
          <button type="button" class="toggle" onclick="togglePassword()">Afficher</button>
        </div>
      </div>

      <button class="btn primary" type="submit">Se connecter</button>

      <div class="auth-footer">
        <a class="link" href="#" onclick="return false;">Mot de passe oublié ?</a>
      </div>

      <div style="margin-top:16px; text-align:center;">
        <a href="{{ url_for('parent_access') }}" class="btn btn-secondary">
           Créer un compte
        </a>
      </div>

    </form>
  </div>
</div>

<style>
  body{
    margin:0;
    min-height:100vh;
    background: url("{{ url_for('static', filename='img/money_bg.png') }}") center/cover no-repeat fixed;
  }
 
  
html, body {
  height: 100%;
  overflow: hidden;
}

.auth-wrap{
  height: calc(100vh - 120px);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}


  .auth-card{
    width:100%;
    max-width:420px;
    background: rgba(201, 198, 198, 0.264);
    border: 1px solid rgba(255,255,255,0.14);
    border-radius:16px;
    padding:20px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  }

  .auth-header h2{
    margin:0 0 6px;
    font-size:22px;
  }

  .muted{
    margin:0 0 14px;
    opacity:0.75;
    font-size:13px;
    color: white;
  }

  .auth-form{
    display:flex;
    flex-direction:column;
    gap:12px;
  }

  .field label{
    display:block;
    font-size:13px;
    margin-bottom:6px;
    opacity:0.9;
    color: rgb(0, 0, 0);
  }

  .field input{
  width: 100%;
  box-sizing: border-box; /* ✅ LA LIGNE QUI CORRIGE TOUT */
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: #eef4ff;
  font-size: 15px;
  }

  .field input:focus{
    border-color: rgba(255,255,255,0.35);
    box-shadow: 0 0 0 3px rgba(255,255,255,0.10);
  }

  .password-row{
    display:flex;
    gap:8px;
    align-items:center;
  }

  .toggle{
    padding:10px 12px;
    border-radius:12px;
    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(255,255,255,0.06);
    color: inherit;
    cursor:pointer;
    white-space:nowrap;
  }

  .btn.primary{
    margin-top:4px;
    width:100%;
    padding:12px 14px;
    border-radius:12px;
    border:none;
    cursor:pointer;
    font-weight:600;
  }

  .auth-footer{
    text-align:center;
    margin-top:6px;
  }

  .link{
    font-size:13px;
    opacity:0.85;
    text-decoration:none;
  }
  .link:hover{ text-decoration:underline; }


</style>

<script>
  function togglePassword(){
    const input = document.getElementById("password");
    const btn = document.querySelector(".toggle");
    const isPwd = input.type === "password";
    input.type = isPwd ? "text" : "password";
    btn.textContent = isPwd ? "Masquer" : "Afficher";
  }
</script>
{% endblock %}
