{% extends "base.html" %}
{% block content %}

<style>
  body{
  margin:0;
  min-height:100vh;

  /* 1) voile léger + 2) image money_bg */
  background:
    linear-gradient(rgba(16, 15, 15, 0.327), rgba(33, 33, 33, 0.466)),
    url("{{ url_for('static', filename='img/money_bg.png') }}");

  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;

  /* boost la visibilité */
  filter: saturate(1.15) contrast(1.08);
}

  /* Monte la carte un peu plus haut */
  .page{
    min-height: calc(100vh - 80px);
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding: 24px;
    padding-top: 15px; /* <- baisse/monte ici si besoin */
  }

  .card{ max-width:560px; width:100%; }

  /* Alignement parfait texte / radio */
  .radio-list{
    margin-top: 10px;
    display: grid;
    gap: 12px;
    max-width: 420px; /* optionnel: évite une ligne trop large */
  }
  .radio-row{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:16px;
    padding: 10px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    cursor:pointer;
    user-select:none;
  }
  .radio-row input[type="radio"]{
    margin:0;           /* important */
    flex: 0 0 auto;
  }
</style>

<div class="page">
  <div class="card">
    <h2>RETRAIT - {{ child.firstname }}</h2>
    <div class="muted">Solde : {{ "%.2f"|format(child.balance) }} €</div>

    <form method="post" style="margin-top:8px;">
      <div style="margin:10px ;">
        <label>Montant à prélever</label>
        <input name="amount" required>
      </div>

      <div style="margin:8px 0;">
        <label>Choisissez la méthode de retrait</label>

        <div class="radio-list">
          <label class="radio-row">
            <span>Cash</span>
            <input type="radio" name="method" value="Cash" checked>
          </label>

          {% if has_paypal %}
          <label class="radio-row">
            <span>Paypal</span>
            <input type="radio" name="method" value="Paypal">
          </label>
          {% endif %}

          {% if has_iban %}
          <label class="radio-row">
            <span>Banque</span>
            <input type="radio" name="method" value="Banque">
          </label>
          {% endif %}
        </div>

        <div class="muted" style="margin-top:10px;">
          Paypal/Banque n’apparaissent que si renseignés dans le profil.
        </div>
      </div>

      <button class="btn danger" type="submit">Valider</button>
      <a class="btn secondary" href="{{ url_for('child_profile', child_id=child.id) }}">Retour</a>
    </form>
  </div>
</div>

{% endblock %}
